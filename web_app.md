# API内部設計についてのあれこれ

個人的な開発方法として、APIが受け取る値、返却する値の2つを用いて設計することが多い。
Controllerで受けたリクエストを受け取り、処理を実行するCommand。そしてその結果から画面やAPIの返却値を扱うPresenter。


- Commandクラス
  - 受け取ったパラメータのパース
  - 必須入力などのバリデーションチェック
  - APIの実処理
  - 実行結果の保持
- Presenterクラス
  - Commandの実行結果を返却用値に加工する
  
 これによって、Controller側にほとんど処理を書かず、それぞれのクラスの中だけでAPI処理を完結できる。
 また他のクラスとの依存関係を極力へらすことで、ユニットテストとの親和性が上がっている。
 
 
 一方、リクエストによって別々のCommand, Presenterが生成されるため、クラス数が多くなりがちで、処理の共通化が難しくなっている。
適切な大きさでSevice化するなどの工夫も必要になる。

 
  
